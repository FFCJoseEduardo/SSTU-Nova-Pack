PARTUPGRADE
{
	name = SSTU-DC-D5
	partIcon = SSTU-SC-GEN-PDC
	techRequired = experimentalRocketry
	entryCost = 80000
	title = Modular Decoupler Max Diameter Increase (20m)
	description = Increases the maximum diameter available for Modular Decouplers.  This upgrade allows up to 20m diameter decouplers to be created.
}
PARTUPGRADE
{
	name = SSTU-FR-D5
	partIcon = SSTU-SC-GEN-FR-N
	techRequired = experimentalRocketry
	entryCost = 80000
	title = Modular Fairing Max Diameter Increase (20m)
	description = Increases the maximum diameter available for modular fairings.  This upgrade allows up to 20m diameter fairings to be created.
}
@PARTUPGRADE[SSTU-MFT-D6]
{
	@title = Modular Tank Max Diameter Increase (20m)
	@description = Increases the maximum diameter available for modular fuel tanks (SSTU-SC-TANK-XXX).  This upgrade allows up to 20m diameter tanks to be created.
}
@PARTUPGRADE[SSTU-MSRB-D5]
{
	@title = Modular SRB Max Diameter Increase (10m)
	@description = Increases the maximum diameter available for modular solid rocket boosters (SSTU-SC-ENG-MSRB-XXX).  This upgrade allows up to 10m diameter boosters to be created.
}
@PART[*]:HAS[@MODULE[SSTUModularEngineCluster]]:NEEDS[SSTU]
{
	@MODULE[SSTUNodeFairing]
	{
		%maxBottomDiameter = 20
		%maxTopDiameter = 20
	}
}
@PART[*]:HAS[@MODULE[SSTUCustomRadialDecoupler]]:NEEDS[SSTU]
{
	@MODULE[SSTUCustomRadialDecoupler]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-DC-D1]]
			{
				@maxDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D2]]
			{
				@maxDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D3]]
			{
				@maxDiameter = 5.0
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D4]]
			{
				@maxDiameter = 6.25
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D5]]
			{
				maxDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D6]]
			{
				maxDiameter = 20
			}
		}
	}
}
@PART[*]:HAS[@MODULE[SSTUProceduralDecoupler]]:NEEDS[SSTU]
{
	@MODULE[SSTUProceduralDecoupler]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-DC-D1]]
			{
				@maxDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D2]]
			{
				@maxDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D3]]
			{
				@maxDiameter = 5.0
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D4]]
			{
				@maxDiameter = 6.25
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D5]]
			{
				maxDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D6]]
			{
				maxDiameter = 20
			}
		}
	}
}
@PART[*]:HAS[@MODULE[SSTUInterstageDecoupler]]:NEEDS[SSTU]
{
	@MODULE[SSTUInterstageDecoupler]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-DC-D1]]
			{
				@maxDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D2]]
			{
				@maxDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D3]]
			{
				@maxDiameter = 5.0
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D4]]
			{
				@maxDiameter = 6.25
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D5]]
			{
				maxDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-DC-D6]]
			{
				maxDiameter = 20
			}
		}
	}
}
@PART[*]:HAS[@MODULE[SSTUInterstageFairing]]:NEEDS[SSTU]
{
	@MODULE[SSTUInterstageFairing]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-FR-D1]]
			{
				@maxDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D2]]
			{
				@maxDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D3]]
			{
				@maxDiameter = 6.25
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D4]]
			{
				@maxDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D5]]
			{
				@maxDiameter = 20
			}
		}	
	}
}
@PART[*]:HAS[@MODULE[SSTUResizableFairing]]:NEEDS[SSTU]
{
	@MODULE[SSTUResizableFairing]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-FR-D1]]
			{
				@maxDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D2]]
			{
				@maxDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D3]]
			{
				@maxDiameter = 6.25
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D4]]
			{
				@maxDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D5]]
			{
				@maxDiameter = 20
			}
		}	
	}
}
@PART[SSTU-SC-GEN-MHS]:NEEDS[SSTU]
{
	@MODULE[SSTUModularHeatShield]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-FR-D1]]
			{
				@maxDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D2]]
			{
				@maxDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D3]]
			{
				@maxDiameter = 6.25
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D4]]
			{
				@maxDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-FR-D5]]
			{
				@maxDiameter = 20
			}
		}	
	}
}
@PART[*]:HAS[@MODULE[SSTUCustomUpperStage]]:NEEDS[SSTU]
{
	@MODULE[SSTUCustomUpperStage]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-MFT-D1]]
			{
				@maxTankDiameter = 1.875
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D2]]
			{
				@maxTankDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D3]]
			{
				@maxTankDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D4]]
			{
				@maxTankDiameter = 5
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D5]]
			{
				@maxTankDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D6]]
			{
				@maxTankDiameter = 20
			}
		}
	}
	@MODULE[SSTUNodeFairing],*
	{
		%maxTopDiameter = 20
		%maxBottomDiameter = 20
	}
}
@PART[*]:HAS[@MODULE[SSTUModularFuelTank]:HAS[!TANK[MFT-R*]]]:NEEDS[SSTU]
{
	@MODULE[SSTUModularFuelTank]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-MFT-D1]]
			{
				@maxTankDiameter = 1.875
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D2]]
			{
				@maxTankDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D3]]
			{
				@maxTankDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D4]]
			{
				@maxTankDiameter = 5
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D5]]
			{
				@maxTankDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D6]]
			{
				@maxTankDiameter = 20
			}
		}
	}
}
@PART[*]:HAS[@MODULE[SSTUModularCargoBay]]:NEEDS[SSTU]
{
	@MODULE[SSTUModularCargoBay]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-MFT-D1]]
			{
				@maxTankDiameter = 1.875
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D2]]
			{
				@maxTankDiameter = 2.5
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D3]]
			{
				@maxTankDiameter = 3.75
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D4]]
			{
				@maxTankDiameter = 5
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D5]]
			{
				@maxTankDiameter = 10
			}
			@UPGRADE:HAS[#name__[SSTU-MFT-D6]]
			{
				@maxTankDiameter = 20
			}
		}
	}
}
@PART[*]:HAS[@MODULE[SSTUModularBooster]]:NEEDS[SSTU]
{
	@MODULE[SSTUModularBooster]
	{
		@UPGRADES
		{
			@UPGRADE:HAS[#name__[SSTU-MSRB-D5]]
			{
				@maxDiameter = 10
			}
		}	
	}
}
